{"version":3,"sources":["../src/Hyperlist.js"],"sourcesContent":["import Hypermap from './Hypermap.js';\nimport { isMap } from './utils/json_processing.js';\n\nexport default class Hyperlist extends EventTarget {\n\tarray;\n\t#parent;\n\n\tconstructor(array, parent) {\n\t\tsuper();\n\t\tthis.array = array;\n\t\tthis.#parent = parent;\n\t}\n\n\tstatic fromLiteral(array, parent) {\n\t\tconst hyperlist = new this([], parent);\n\t\tconst convertedArray = array.map(value => {\n\t\t\tif (isMap(value)) {\n\t\t\t\treturn Hypermap.fromLiteral(value, hyperlist);\n\t\t\t} else if (Array.isArray(value)) {\n\t\t\t\treturn Hyperlist.fromLiteral(value, hyperlist);\n\t\t\t} else {\n\t\t\t\treturn value;\n\t\t\t}\n\t\t});\n\t\thyperlist.array = convertedArray;\n\t\treturn hyperlist;\n\t}\n\n\tat(...path) {\n\t\tif (path.length === 0) {\n\t\t\treturn this;\n\t\t}\n\t\t\n\t\tconst head = this.array.at(path.at(0));\n\t\tif (head === undefined || (path.length > 1 && typeof head.at !== 'function')) {\n\t\t\treturn undefined;\n\t\t}\n\t\t\n\t\tif (path.length === 1) {\n\t\t\treturn head;\n\t\t} else {\n\t\t\treturn head.at(...path.slice(1));\n\t\t}\n\t}\n\n\tforEach(...args) {\n\t\tthis.array.forEach(...args);\n\t}\n\n\tlength() {\n\t\treturn this.array.length;\n\t}\n\n\ttoJSON() {\n\t\treturn this.array;\n\t}\n}\n"],"names":["Hyperlist","EventTarget","array","parent","constructor","fromLiteral","hyperlist","convertedArray","map","value","isMap","Hypermap","Array","isArray","at","path","length","head","undefined","slice","forEach","args","toJSON"],"mappings":";;;;+BAGA;;aAAqBA;;iEAHA;iCACC;;;;;;AAEP,MAAMA,kBAAkBC;IACtCC,MAAM;IACN,CAACC,MAAM,CAAC;IAERC,YAAYF,KAAK,EAAEC,MAAM,CAAE;QAC1B,KAAK;QACL,IAAI,CAACD,KAAK,GAAGA;QACb,IAAI,CAAC,CAACC,MAAM,GAAGA;IAChB;IAEA,OAAOE,YAAYH,KAAK,EAAEC,MAAM,EAAE;QACjC,MAAMG,YAAY,IAAI,IAAI,CAAC,EAAE,EAAEH;QAC/B,MAAMI,iBAAiBL,MAAMM,GAAG,CAACC,CAAAA,QAAS;YACzC,IAAIC,IAAAA,sBAAK,EAACD,QAAQ;gBACjB,OAAOE,iBAAQ,CAACN,WAAW,CAACI,OAAOH;YACpC,OAAO,IAAIM,MAAMC,OAAO,CAACJ,QAAQ;gBAChC,OAAOT,UAAUK,WAAW,CAACI,OAAOH;YACrC,OAAO;gBACN,OAAOG;YACR,CAAC;QACF;QACAH,UAAUJ,KAAK,GAAGK;QAClB,OAAOD;IACR;IAEAQ,GAAG,GAAGC,IAAI,EAAE;QACX,IAAIA,KAAKC,MAAM,KAAK,GAAG;YACtB,OAAO,IAAI;QACZ,CAAC;QAED,MAAMC,OAAO,IAAI,CAACf,KAAK,CAACY,EAAE,CAACC,KAAKD,EAAE,CAAC;QACnC,IAAIG,SAASC,aAAcH,KAAKC,MAAM,GAAG,KAAK,OAAOC,KAAKH,EAAE,KAAK,YAAa;YAC7E,OAAOI;QACR,CAAC;QAED,IAAIH,KAAKC,MAAM,KAAK,GAAG;YACtB,OAAOC;QACR,OAAO;YACN,OAAOA,KAAKH,EAAE,IAAIC,KAAKI,KAAK,CAAC;QAC9B,CAAC;IACF;IAEAC,QAAQ,GAAGC,IAAI,EAAE;QAChB,IAAI,CAACnB,KAAK,CAACkB,OAAO,IAAIC;IACvB;IAEAL,SAAS;QACR,OAAO,IAAI,CAACd,KAAK,CAACc,MAAM;IACzB;IAEAM,SAAS;QACR,OAAO,IAAI,CAACpB,KAAK;IAClB;AACD"}